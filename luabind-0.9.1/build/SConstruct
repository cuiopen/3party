# sln2scons.py autogenerated SConstruct
import sys,os

platform = ARGUMENTS.get('OS', Platform())
debug = ARGUMENTS.get('debug','false').lower() == 'true'
static = ARGUMENTS.get('static_rtl','true').lower() == 'true'
m64 = ARGUMENTS.get('m64','false').lower() == 'true'
debug_str = (debug and 'debug' or 'release')
static_str = (static and 'static' or 'dynamic')
Export('debug_str')
Export('static_str')

if str(platform) != 'win32':
    env = Environment(ENV = os.environ, PLATFORM = 'linux', MYPLATFORM = 'linux' ,CCFLAGS ='-fpermissive')
    env.Append(LIBS = ['libboost_program_options-gcc41-mt',
                        'libboost_date_time-gcc41-mt',
                        'libboost_thread-gcc41-mt',
                        'libboost_system-gcc41-mt',
                        'libboost_serialization-gcc41-mt',
                        'libboost_filesystem-gcc41-mt',
                        'liblzo2',
                        'liblog4cxx',
                        'libaprutil-1',
                        'libapr-1',
                        'libexpat',
                        'mysqlclient',
                        'libpthread',
                        'util', 'rt','dl', 'c'])
    env['LIBPATH'] = ['../../../mysql/lib/deb32/', '../../../log4cxx/lib/deb32/', '../../../lzo/lib/deb32', '../../../boost/lib/deb32/', '../../../omp/lib/ansi/deb32/']
    env['CPPDEFINES'] = ['LINUX']
    if m64:
        env.Append(CCFLAGS=' -m64')
    if debug:
        env.Append(CCFLAGS=' -g')
    if static:
        env.Append(CCFLAGS=' -static')
        env.Append(LINKFLAGS=' -static')
else:
    env = Environment(ENV = os.environ,MYPLATFORM = 'winnt', LIBS = ['kernel32', 'user32', 'gdi32', 'winspool', 'comdlg32', 'advapi32', 'shell32', 'ole32', 'oleaut32', 'uuid', 'odbc32', 'odbccp32'])
    env['CPPDEFINES'] = []

if debug:
    env['CPPDEFINES'] += ['_DEBUG', '_UNICODE', 'UNICODE']
else:
    env['CPPDEFINES'] += ['NDEBUG', '_UNICODE', 'UNICODE']

Export('env')
env.SConscript('msvc-9.0/SConscript_LuaBind')
